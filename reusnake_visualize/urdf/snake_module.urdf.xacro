<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">  
  <xacro:macro name="reusnake_module" params="id next_id">
    <link name="link${id}">
      <inertial>
        <origin
          xyz="0.026 0 0"
          rpy="0 0 0 " />
        <mass
          value="0.2" />
        <inertia
          ixx="0.00086666"
          ixy="0"
          ixz="0"
          iyy="0.00086666"
          iyz="0"
          izz="0.00086666" />
      </inertial>
      <visual>
        <geometry>
          <box size="0.052 0.052 0.052"/>
        </geometry>
        <material name="blue">
          <color rgba="0 0 .8 1"/>
        </material>
      </visual>
      <collision>
        <geometry>
          <box size="0.052 0.052 0.052"/>
        </geometry>
      </collision>
    </link>


    <joint
      name="joint${next_id}"
      type="revolute">
      <origin
        xyz="0.052 0 0"
        rpy="1.57079 0 0" />
      <parent
        link="link${id}" />
      <child
        link="link${next_id}" />
      <axis
        xyz="0 0 1" />
      <dynamics 
        damping=".1" 
        friction="0.2"/>
      <limit 
        effort="20.0" 
        lower="${-pi}" 
        upper="${pi}" 
        velocity="3.14159265"/>
    </joint>
    
    <transmission name="${id}_trans">
      <type>transmission_interface/SimpleTransmission</type>
      <joint name="joint${id}">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      </joint>
      <actuator name="$joint${id}_motor">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        <mechanicalReduction>300</mechanicalReduction>
      </actuator>
    </transmission>

  </xacro:macro>
</robot>